{% extends 'layout.html' %} {% block content %}
<h1>Create New Invoice</h1>
<form method="POST">
    <div class="form-group">
        <label for="project">Project</label>
        <input
            type="text"
            class="form-control"
            id="project"
            name="project"
            required
        />
    </div>
    <div class="form-group">
        <label for="client">Client</label>
        <input
            type="text"
            class="form-control"
            id="client"
            name="client"
            required
        />
    </div>
    <div class="form-group">
        <label for="address">Address</label>
        <input
            type="text"
            class="form-control"
            id="address"
            name="address"
            required
        />
    </div>
    <div class="form-group">
        <label for="email">Email</label>
        <input
            type="email"
            class="form-control"
            id="email"
            name="email"
            required
        />
    </div>
    <div class="form-group">
        <label for="invoice_date">Invoice Date</label>
        <input
            type="date"
            class="form-control"
            id="invoice_date"
            name="invoice_date"
            required
        />
    </div>
    <div class="form-group">
        <label for="due_date">Due Date</label>
        <input
            type="date"
            class="form-control"
            id="due_date"
            name="due_date"
            required
        />
    </div>
    <h3>Services</h3>
    <div id="services">
        <div class="form-group row">
            <div class="col">
                <input
                    type="text"
                    class="form-control"
                    name="description[]"
                    placeholder="Service Description"
                    required
                />
            </div>
            <div class="col">
                <input
                    type="number"
                    class="form-control"
                    name="amount[]"
                    placeholder="Amount"
                    required
                />
            </div>
        </div>
    </div>
    <button type="button" class="btn btn-secondary" id="add_service">
        Add Service
    </button>
    <button type="submit" class="btn btn-primary">Create Invoice</button>
</form>
<script>
    document
        .getElementById('add_service')
        .addEventListener('click', function () {
            const serviceDiv = document.createElement('div');
            serviceDiv.className = 'form-group row';
            serviceDiv.innerHTML = `
        <div class="col">
            <input type="text" class="form-control" name="description[]" placeholder="Service Description" required>
        </div>
        <div class="col">
            <input type="number" class="form-control" name="amount[]" placeholder="Amount" required>
        </div>
    `;
            document.getElementById('services').appendChild(serviceDiv);
        });
</script>
{% endblock %}
